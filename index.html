<!DOCTYPE html>
<html>
    <head>
        <title> Fruit Ninja VR </title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">

        <script src="https://cdn.jsdelivr.net/npm/p5@1.11.1/lib/p5.min.js"></script>
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://craignyu.github.io/aframep5/libraries/aframep5-v2.3.js"></script>
    
    </head>
    <body>
        <a-scene>
            <a-box 
                position="0 0.75 17" 
                depth="2" 
                height="0.5" 
                width="4" 
                color="#8B5A2B">
            </a-box>
        
            <!-- Grabbable Object -->
            <a-sphere 
                position="0 1.5 17" 
                radius="0.5" 
                color="#FF5733" 
                dynamic-body 
                grabbable>
            </a-sphere>
        
            <!-- player -->
            <a-entity position="0 1.6 20">
                <a-camera></a-camera>
            </a-entity>

            <a-sky src="#skyTexture" rotation="0 -90 0"></a-sky>
        
            <a-assets>
                <img id="groundTexture" src="Assets/courtyardfloor.jpg">
                <img id="wallTexture" src="Assets/sildingtexture.png">
                <img id="skyTexture" src="Assets/skyimg.jpg">
                <a-asset-item id="fence-model" src="Assets/fence/scene.gltf"></a-asset-item>
                <a-asset-item id="tree-model" src="Assets/tree/scene.gltf"></a-asset-item>
                <a-asset-item id="gong-model" src="Assets/gong/scene.gltf"></a-asset-item>
                <a-asset-item id="courtyard-model" src="Assets/courtyard/scene.gltf"></a-asset-item>
                <a-asset-item id="crate1" src="Assets/crate/scene.gltf"></a-asset-item>
                <a-asset-item id="crate2" src="Assets/crate2/scene.gltf"></a-asset-item>
                <a-asset-item id="cart" src="Assets/cart/scene.gltf"></a-asset-item>
            </a-assets>

            <a-entity gltf-model="#courtyard-model" position="-8 0 0" depth="0.1" scale="16 8 16"></a-entity>
            <a-entity gltf-model="#gong-model" position="0.2 0 -15" depth="0.1" scale="1.1 1.1 1.1"></a-entity>
              <a-entity gltf-model="#tree-model" position="-51 4 -45" depth="0.1" scale="5 5 5"></a-entity>
              <a-entity gltf-model="#tree-model" position="51 4 -45" depth="0.1" scale="5 5 5" rotation="0 180 0"></a-entity>
              <a-entity gltf-model="#tree-model" position="46 4 43" depth="0.1" scale="5 5 5" rotation="0 100 0"></a-entity>
              <a-entity gltf-model="#tree-model" position="-46 4 43" depth="0.1" scale="5 5 5" rotation="0 130 0"></a-entity>
                
              <a-entity gltf-model="#crate1" position="55 0 -10" depth="0.1" scale="5 5 5" rotation="0 110 0"></a-entity>
              <a-entity gltf-model="#crate1" position="40 0 -18" depth="0.1" scale="5 5 5" rotation="0 170 0"></a-entity>
              <a-entity gltf-model="#crate1" position="55 0 10" depth="0.1" scale="5 5 5" rotation="0 90 0"></a-entity>
              <a-entity gltf-model="#crate2" position="37 0 -10" depth="0.1" scale="0.05 0.05 0.05" rotation="0 110 0"></a-entity>
              <a-entity gltf-model="#crate2" position="40 0 15" depth="0.1" scale="0.05 0.05 0.05" rotation="0 170 0"></a-entity>
              <a-entity gltf-model="#crate2" position="45 0 20" depth="0.1" scale="0.05 0.05 0.05" rotation="0 200 0"></a-entity>
              <a-entity gltf-model="#cart" position="50 0 -20" depth="0.1" scale="5 5 5" rotation="0 0 0"></a-entity>
              <a-entity gltf-model="#cart" position="50 0 20" depth="0.1" scale="5 5 5" rotation="0 200 0"></a-entity>

              <a-sound id="bgm" src="url(sounds/bgm.mp3)" autoplay="false" loop="true" volume="0.5" position="0 0 0"></a-sound>
              <a-sound id="ambient" src="url(sounds/ambient.mp3)" autoplay="false" loop="true" volume="0.8" position="0 0 0"></a-sound>

            <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/super-hands@4.0.2/dist/super-hands.min.js"></script>
        </a-scene>
         
        <script>
            window.addEventListener('keydown', function() {
              const sound = document.getElementById('bgm');
              const sound2 = document.getElementById('ambient');
              sound.components.sound.playSound();
              sound2.components.sound.playSound();
            });

            const controller = document.getElementById('controller');
            controller.addEventListener('triggerdown', function () {
            const sound = document.getElementById('bgm');
              const sound2 = document.getElementById('ambient');
              sound.components.sound.playSound();
              sound2.components.sound.playSound();
             });
          </script>
    </body>
</html>